# Voice Control Library

## Funkcionality
- ovládať ľubovolný element hlasovým príkazom
  - príkaz musí byť dopredu jasny
  - spustiť event na danom elemente
    - event sa spustí jedine ak object je true (hodnota, návrat funkcie)
  - spustiť funkciu, ktorá manipuluje s elementom
- spätná väzba
  - v prípade erroru
  - vlastné eventy
- poskytnúť API na konfiguráciu
  - pri štarte
  - dynamicky za behu (API funkcie)
- defaultné správanie pri rozpoznaní ale neexistuje mapovanie

```JS
const vcl = new VCL({
    "#btn": {
        phrases: ['klikni na gombík', 'klikni na button',
            'klikni na tlačítko', 'stlač button', 'stlač tlačidlo'],
        listener: event => {
            event.element.innerText = event.result;
        },
        actions: {
            click: true,
            mouseover: event => {
                return (event.element.innerText === "Button");
            }
        }
    },
    global: {
        speechApi: {
            W3C: {
                lang: 'sk-SK',
                continuous: false,
                maxAlternatives: 1
            },
            GoogleCloudApi: {},
            debug: true
        },
    }
});
```

## Workflow
example: "Choď domov a otvor prvý link"
example EN: "Go home and open the first link"

Recognition -> Intent -> Actions -> Result

Intent Recognition
String parsing
!! Zložité !!
Natural Language processing nejdeme robiť

## Architektúra
- main classu
- event
- registre
  - index element -> atributy
  - index fráz -> elementy
    - prefix tree
- interface na SpeechAPI


<!-- Generated by documentation.js. Update this documentation by updating the source code. -->

### Table of Contents

-   [VCL][1]
    -   [Parameters][2]
    -   [execute][3]
-   [SpeechApi][4]
    -   [Parameters][5]
    -   [dictate][6]
    -   [result][7]
    -   [stop][8]
-   [W3CApi][9]
    -   [Parameters][10]
    -   [dictate][11]
    -   [result][12]
    -   [stop][13]
-   [ServiceObjects][14]
    -   [Parameters][15]
    -   [trie][16]
    -   [controlObjects][17]
-   [Trie][18]
    -   [root][19]
    -   [insert][20]
        -   [Parameters][21]
    -   [search][22]
        -   [Parameters][23]
    -   [delete][24]
        -   [Parameters][25]
    -   [update][26]
        -   [Parameters][27]
    -   [getDataNode][28]
        -   [Parameters][29]
    -   [getPath][30]
        -   [Parameters][31]
-   [TrieNode][32]
    -   [Parameters][33]
    -   [parent][34]
    -   [children][35]
    -   [update][36]
        -   [Parameters][37]
    -   [unlink][38]
    -   [hasChildren][39]
    -   [deleteChild][40]
        -   [Parameters][41]
    -   [addChild][42]
        -   [Parameters][43]
    -   [hasChild][44]
        -   [Parameters][45]

## VCL

### Parameters

-   `config`  

### execute

## SpeechApi

Facade that separates API functionality for speech recognition from control and others VCL services.
Provides the isolation of what a library user can and where they should not be accessed.

### Parameters

-   `config` **[Object][46]** SpeechApi configuration.

### dictate

Calls the configured method

### result

Returns **[Promise][47]** 

### stop

Calls the configured method

## W3CApi

W3C Speech API
It enables developers to use scripting to generate text-to-speech output
and to use speech recognition as an input for forms, continuous dictation and control.

### Parameters

-   `config` **[Object][46]** W3C Speech API configuration

### dictate

Begin to listen to the audio.

### result

Asynchronous function that return transcript result in text form.

Returns **[Promise][47]&lt;[String][48]>** 

### stop

Stop listening to more audio.

## ServiceObjects

### Parameters

-   `config`  

### trie

Get Trie.

Returns **[Trie][49]** 

### controlObjects

Get map all control objects

Returns **[Map][50]** ControlObject

## Trie

Trie data structure.

### root

Get root node of the Trie

Returns **[TrieNode][51]** 

### insert

Insert word to the Trie and map data on the word.
If data is not provided it is automatically generated as an increasing number.

#### Parameters

-   `word` **[string][48]** 
-   `data` **[Object][46]?** 

### search

Searching Trie for data indexed by the provided word.
If the word is in the Trie a data object is returned.
If the word is not found in the Trie null is returned.

#### Parameters

-   `word` **[string][48]** 

Returns **([Object][46] | null)** 

### delete

Delete word from the Trie.
If the word is not in the Trie false is returned otherwise true.

#### Parameters

-   `word` **[string][48]** 

Returns **[boolean][52]** 

### update

#### Parameters

-   `word` **[string][48]** 
-   `data` **any** 

Returns **[boolean][52]** 

### getDataNode

#### Parameters

-   `word` **[string][48]** 

Returns **[TrieNode][51]** 

### getPath

#### Parameters

-   `word` **[string][48]** 

Returns **[Array][53]&lt;[TrieNode][51]>** 

## TrieNode

Node of a trie data structure.
The node can be root or any other node in Trie data structure.
The has access to its parent and all of its children.
If the node is index of the word inserted into the Trie it has flag isEndOfWorld set to true and word is set to the indexed word.
If the node is the end of a word it can contain some additional index data.

### Parameters

-   `parent` **[Object][46]** Parent config object (optional, default `{key:"",node:null}`)
-   `isRoot` **[boolean][52]?** Boolean flag of root node. If the node is root it is not check for parent (optional, default `false`)

### parent

Get parent object consisting of the child index and parent node.

Returns **{key: [string][48], node: [TrieNode][51]}** 

### children

Get map of all node's children.

Returns **({} | {TrieNode})** Child index is one character of a inserted word and value is child's node object.

### update

Update indexed data of the node.

#### Parameters

-   `data` **any** If data is set to some value the node is automatically set as the end of a word. If data has false value indexed word is removed from the node.

### unlink

Remove parent object from this node.
If this function is finished all reference to this node from the Trie root is lost.

### hasChildren

Check if the node has any child nodes attached to it.

Returns **[boolean][52]** True if has any children, otherwise false.

### deleteChild

Delete child indexed by the provided character.
If the child does not exists nothing happens.
If the child does exists, the child node object is deleted.

#### Parameters

-   `char` **[string][48]** 

### addChild

Add a child to the node.
If a child already exists on the index it is overridden by the new child.

#### Parameters

-   `char` **[string][48]** 
-   `node` **[TrieNode][51]** 

Returns **([TrieNode][51] | null)** If a child is overridden the old child node is return, otherwise false.

### hasChild

Check is the node has a child indexed by the provided character.

#### Parameters

-   `char` **[string][48]** 

Returns **[boolean][52]** True if a child exists, otherwise false.

[1]: #vcl

[2]: #parameters

[3]: #execute

[4]: #speechapi

[5]: #parameters-1

[6]: #dictate

[7]: #result

[8]: #stop

[9]: #w3capi

[10]: #parameters-2

[11]: #dictate-1

[12]: #result-1

[13]: #stop-1

[14]: #serviceobjects

[15]: #parameters-3

[16]: #trie

[17]: #controlobjects

[18]: #trie-1

[19]: #root

[20]: #insert

[21]: #parameters-4

[22]: #search

[23]: #parameters-5

[24]: #delete

[25]: #parameters-6

[26]: #update

[27]: #parameters-7

[28]: #getdatanode

[29]: #parameters-8

[30]: #getpath

[31]: #parameters-9

[32]: #trienode

[33]: #parameters-10

[34]: #parent

[35]: #children

[36]: #update-1

[37]: #parameters-11

[38]: #unlink

[39]: #haschildren

[40]: #deletechild

[41]: #parameters-12

[42]: #addchild

[43]: #parameters-13

[44]: #haschild

[45]: #parameters-14

[46]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object

[47]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Promise

[48]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/String

[49]: #trie

[50]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Map

[51]: #trienode

[52]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Boolean

[53]: https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Array

